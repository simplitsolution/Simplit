<section class="py-12 px-4 sm:px-6 bg-white text-gray-800">
  <div class="max-w-7xl mx-auto px-4">
    <!-- Header Section -->
    <div class="mb-12">
      <h2 class="text-3xl font-semibold mb-4 text-gray-900">Who We Are</h2>
      <p class="mb-10 text-gray-600 leading-relaxed max-w-4xl">
        Our team thrives on the principles of accountability, freedom, joy, and respect for one another. 
        Guided by a clear mission and vision, and anchored in our core values, we've created an environment 
        where innovation flourishes, creativity is encouraged, and high-quality work is a shared goal.
      </p>

      <h3 class="text-xl font-semibold mb-8 text-gray-800">
        Our processes and corporate life reflect our values. Below are a few of our policies which reflect our values:
      </h3>
    </div>

    <!-- Slider Container -->
    <div class="relative overflow-hidden">
      <div
        [@slideAnimation]="slideDirection"
        (mouseenter)="onMouseEnter()"
        (mouseleave)="onMouseLeave()"
        (touchstart)="onTouchStart($event)"
        (touchend)="onTouchEnd($event)"
        class="w-full"
      >
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-7 min-h-[370px]">
          <div
            *ngFor="let item of visibleCards; let i = index; trackBy: trackByFn"
            (click)="onCardClick(i)"
            [ngClass]="{
              'group card-wrapper': true,
              'hover:shadow-xl hover:scale-105': true,
              'scale-105 shadow-xl': activeCardIndex === i && isMobile()
            }"
            class="relative h-[370px] rounded-lg overflow-hidden shadow-lg transition-all duration-300 transform cursor-pointer"
          >
            <!-- Inner Shadow Overlay -->
            <div
              class="absolute pointer-events-none rounded-lg z-10"
              style="box-shadow: inset 0 10px 15px rgba(0,0,0,0.4);"
            ></div>

            <!-- Background Image -->
            <img
              [src]="item.imgSrc"
              [alt]="item.title"
              loading="lazy"
              class="absolute w-full h-full object-cover transition-all duration-300 group-hover:scale-110 group-hover:opacity-70 z-[-1]"
              [ngClass]="{
                'scale-110 opacity-70': activeCardIndex === i && isMobile()
              }"
            />

            <!-- Gradient Overlay -->
            <div
              class="absolute bottom-0 left-0 w-full h-[150px] bg-gradient-to-t from-black/90 via-black/70 to-transparent z-20 transition-all duration-700 group-hover:h-full group-hover:from-black/95 group-hover:via-black/80"
              [ngClass]="{
                'h-full from-black/95 via-black/80': activeCardIndex === i && isMobile()
              }"
            ></div>

            <!-- Content -->
            <div class="absolute bottom-0 left-0 right-0 p-5 text-white z-30 transform transition-all duration-500">
              <h4 class="text-lg font-bold mb-2 text-white">
                {{ item.title }}
              </h4>
              <p
                class="text-sm leading-relaxed text-gray-200 max-h-0 overflow-hidden opacity-0 transition-all duration-700 group-hover:max-h-48 group-hover:opacity-100 group-hover:mt-3"
                [ngClass]="{
                  'max-h-48 opacity-100 mt-3': activeCardIndex === i && isMobile()
                }"
              >
                {{ item.description }}
              </p>
            </div>

            <!-- Hover Border Effect -->
            <div
              class="absolute inset-0 border-2 border-transparent group-hover:border-white/20 rounded-lg transition-all duration-300 z-40"
              [ngClass]="{
                'border-white/20': activeCardIndex === i && isMobile()
              }"
            ></div>
          </div>
        </div>
      </div>

      <!-- Navigation Dots -->
      <div class="flex justify-center mt-8 space-x-3" *ngIf="totalBatches > 1">
        <button
          *ngFor="let batch of [].constructor(totalBatches); let i = index"
          (click)="goToBatch(i)"
          class="w-3 h-3 rounded-full transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"
          [class]="i === batchIndex 
            ? 'bg-blue-600 scale-110 shadow-lg' 
            : 'bg-gray-300 hover:bg-blue-400 hover:scale-105'"
          [attr.aria-label]="'Go to slide ' + (i + 1)"
        ></button>
      </div>

      <!-- Slide Counter -->
      <div class="text-center mt-4 text-sm text-gray-500" *ngIf="totalBatches > 1">
        {{ batchIndex + 1 }} / {{ totalBatches }}
      </div>
    </div>
  </div>
</section>
